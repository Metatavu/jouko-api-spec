swagger: '2.0'
info:
  title: Jouko API
  description: Jouko API spec
  version: "0.0.1"
schemes:
  - https
basePath: /v1
securityDefinitions:
  basicAuth:
    type: basic
security:
  - basicAuth: []
consumes:
  - application/json;charset=utf-8
produces:
  - application/json;charset=utf-8
paths:
  /interruptions:
    get:
      operationId: listInterruptions
      summary: List interruptions
      parameters:
        - name: from
          in: query
          description: List interruptions that start after this point of time, inclusive
          required: true
          type: string
          format: date-time
        - name: to
          in: query
          description: List interruptions that end before this point of time, exclusive
          required: true
          type: string
          format: date-time
      responses:
        200:
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Interruption'
  /interruptions/{id}/cancelled:
    put:
      operationId: setInterruptionCancelled
      summary: "Set interruption's cancellation status"
      parameters:
        - name: id
          in: path
          description: The id of the interruption to set cancellation status of
          required: true
          type: integer
        - name: body
          in: body
          description: The cancellation status
          required: true
          schema:
            $ref: '#/definitions/InterruptionCancellation'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/InterruptionCancellation'
  /devices:
    get:
      operationId: listDevices
      summary: List devices
      parameters:
        - name: firstResult
          in: query
          description: "The offset of the first result"
          required: true
          type: integer
        - name: maxResults
          in: query
          description: "The maximum number of results"
          required: true
          type: integer
      responses:
        200:
          description: Success
          schema:
            type: array
            items:
              $ref: '#/definitions/Device'
definitions:
  Interruption:
    type: object
    properties:
      id:
        description: Interruption id
        type: string
        format: uuid
      from:
        description: Start time of the interruption, inclusive
        type: string
        format: date-time
      to:
        description: End time of the interruption, exclusive
        type: string
        format: date-time
      deviceId:
        description: The ID of the interrupted device
        type: string
        format: uuid
      cancelled:
        description: True if the interruption has been cancelled
        type: boolean
  InterruptionCancellation:
    type: object
    properties:
      cancelled:
        description: True if the interruption has been cancelled
        type: boolean
  Device:
    type: object
    properties:
      id:
        description: Interruption id
        type: string
        format: uuid
      name:
        description: The name of the device
        type: string
      